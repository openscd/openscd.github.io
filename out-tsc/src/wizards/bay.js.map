{"version":3,"file":"bay.js","sourceRoot":"","sources":["../../../src/wizards/bay.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAkB,MAAM,UAAU,CAAC;AAChD,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAE/C,OAAO,EACL,aAAa,EAEb,YAAY,EACZ,QAAQ,GAIT,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,kBAAkB,EAAE,MAAM,yBAAyB,CAAC;AAE7D,SAAS,MAAM,CAAC,IAAmB,EAAE,IAAmB;IACtD,OAAO;QACL,IAAI,CAAA;;oBAEY,IAAI;gBACR,SAAS,CAAC,uBAAuB,CAAC;;2BAEvB,SAAS,CAAC,oBAAoB,CAAC;;yBAEjC;QACrB,IAAI,CAAA;;oBAEY,IAAI;;gBAER,SAAS,CAAC,uBAAuB,CAAC;yBACzB;KACtB,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,MAAe;IAC1C,OAAO,CAAC,MAAqB,EAAkB,EAAE;QAC/C,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,CAAE,CAAC,CAAC;QAC7D,MAAM,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,MAAM,CAAE,CAAC,CAAC;QAC7D,MAAM,OAAO,GAAG,aAAa,CAAC,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE;YACzD,IAAI;YACJ,IAAI;SACL,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG;YACb,GAAG,EAAE;gBACH,MAAM;gBACN,OAAO;gBACP,SAAS,EAAE,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC;aACvC;SACF,CAAC;QAEF,OAAO,CAAC,MAAM,CAAC,CAAC;IAClB,CAAC,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,MAAe;IAC7C,OAAO;QACL;YACE,KAAK,EAAE,GAAG,CAAC,sBAAsB,CAAC;YAClC,OAAO,EAAE,SAAS;YAClB,OAAO,EAAE;gBACP,IAAI,EAAE,EAAE;gBACR,KAAK,EAAE,GAAG,CAAC,KAAK,CAAC;gBACjB,MAAM,EAAE,YAAY,CAAC,MAAM,CAAC;aAC7B;YACD,OAAO,EAAE,MAAM,CAAC,EAAE,EAAE,EAAE,CAAC;SACxB;KACF,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,aAAa,CAAC,OAAgB;IAC5C,OAAO;QACL;YACE,KAAK,EAAE,GAAG,CAAC,uBAAuB,CAAC;YACnC,OAAO;YACP,OAAO,EAAE;gBACP,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC;gBAClB,MAAM,EAAE,kBAAkB,CAAC,OAAO,CAAC;aACpC;YACD,OAAO,EAAE,MAAM,CACb,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,EAC5B,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAC7B;SACF;KACF,CAAC;AACJ,CAAC","sourcesContent":["import { html, TemplateResult } from 'lit-html';\nimport { get, translate } from 'lit-translate';\n\nimport {\n  createElement,\n  EditorAction,\n  getReference,\n  getValue,\n  Wizard,\n  WizardActor,\n  WizardInput,\n} from '../foundation.js';\nimport { updateNamingAction } from './foundation/actions.js';\n\nfunction render(name: string | null, desc: string | null): TemplateResult[] {\n  return [\n    html`<wizard-textfield\n      label=\"name\"\n      .maybeValue=${name}\n      helper=\"${translate('bay.wizard.nameHelper')}\"\n      required\n      validationMessage=\"${translate('textfield.required')}\"\n      dialogInitialFocus\n    ></wizard-textfield>`,\n    html`<wizard-textfield\n      label=\"desc\"\n      .maybeValue=${desc}\n      nullable\n      helper=\"${translate('bay.wizard.descHelper')}\"\n    ></wizard-textfield>`,\n  ];\n}\n\nexport function createAction(parent: Element): WizardActor {\n  return (inputs: WizardInput[]): EditorAction[] => {\n    const name = getValue(inputs.find(i => i.label === 'name')!);\n    const desc = getValue(inputs.find(i => i.label === 'desc')!);\n    const element = createElement(parent.ownerDocument, 'Bay', {\n      name,\n      desc,\n    });\n\n    const action = {\n      new: {\n        parent,\n        element,\n        reference: getReference(parent, 'Bay'),\n      },\n    };\n\n    return [action];\n  };\n}\n\nexport function createBayWizard(parent: Element): Wizard {\n  return [\n    {\n      title: get('bay.wizard.title.add'),\n      element: undefined,\n      primary: {\n        icon: '',\n        label: get('add'),\n        action: createAction(parent),\n      },\n      content: render('', ''),\n    },\n  ];\n}\n\nexport function editBayWizard(element: Element): Wizard {\n  return [\n    {\n      title: get('bay.wizard.title.edit'),\n      element,\n      primary: {\n        icon: 'edit',\n        label: get('save'),\n        action: updateNamingAction(element),\n      },\n      content: render(\n        element.getAttribute('name'),\n        element.getAttribute('desc')\n      ),\n    },\n  ];\n}\n"]}